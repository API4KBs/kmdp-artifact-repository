language: java
jdk:
  - oraclejdk11
dist: trusty
install: true

branches:
  only:
    - master
    - develop
script:
  - mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar -Dsonar.projectKey=API4KBs_kmdp-artifact-repository  -Ppublic -q
deploy:
  - provider: script
    script: mvn deploy -DskipTests -Ppublic -s .travis.settings.xml
    skip_cleanup: true
    on:
      branch: master
  - provider: script
    script: mvn deploy -DskipTests -Ppublic -s .travis.settings.xml
    skip_cleanup: true
    on:
      branch: develop

addons:
  sonarcloud:
    organization: "api4kbs"
    token:
      secure: "nmtlW8uyjemwbqdf/I7GL06P3U4Lqm43+pJ5Q97Gu+jQIM1ANEzHqD+0AtYSUGNzw4/e0H584R9MeFGXWxVxkyV+Xv+2ZJqRH9WZdBGCkTA3gYgVF7thKWaBS6MiyceSiS7+8hTvGVbCr321GDcFmShI//1UXcI0uNSjLTGVizEqhy6ghHTVtZTakMOGn+i7t7sXELetRTJpHE7UAcj/110uCLunGTqRRO/ecREE5POVKQVr+NGj/FEABRimv1fEOcNSyj6jWhebxFE5vHUX9ciXqaLjlIxLTSO3p3RxofY5jfK4M+un32IaPuXGbXZNTuCpSHsFnUQrGmsoZs4eVXbC3EW1nfuMIHbtSjsaAZc7rQXINZEjs2/hwp+VniYoU+ImHNlsGKzcgQWP855Nt8oWkvVVn2dGI4ZwFoIwg6guJF+Umgq7SMRU6iSsHhjiLgBzWV2NAXHU1OayVXvgH9oO9G2hJyi6mGy08G9Hd/kddcD/3afK7loJAZp7kJ1UIKYXSQr97R0S9z1/DEoG5sNQxvBNgpNcvB+zFlkZKkybPpRZrF2N8AeYE4VLYoJ9DCEzdCH/51fwJJAGs4yycwvsht4bPimRAbi3zehnlgTzzBosfAwxrYlSA28XlTrQ+xA7LegrqM40c3FvL12PljendvD5Vu5GWSr0kA+vveU="

env:
  global:
  - secure: q5G2eWGk9IqNKTJMmYVYnAMQI6nPgGBLrhC14QJUHMeY+9FEr+WJD6t9LXxpHcvwdsyyTnHcrqcC8am/e72bHjRQey7W+84K7noxHhPptm9Hu8C8aLAF6Qo78iV5BQA2TAPlDOJC8FcKF9ugKLkwHqZdKf10reNpF7pPOhaVMzRHgiyEoWFjNPzCoaB7X23t/AbWtRwOSr0C0byn524w8Joi2fzj/qxjV2BmPTb8hLdgGjb4jKkGFUAGfJD2230eo8IpAUJ05FIQMdrZFp2Y76fqEnBnxWX8xBFN6EkArs796SkgtnFc5y834XS1XXgNWYqDQ2H8Urocuh/mYo/Dk5TzZY4culMRa1yOsISwpMKaP2kv+7LFSc6bM29ywlaTY0ZSKTr4xLAOjkMcPb+u9/pd+iYRMr/6ZN7tH0kWHbMb6ZbhiZyZCA5F0bxsJLJOzifk38W/0O9piHoqAOcp0kFtyrlvbeV0EXukgDJIS1mAfHF9m08Y9VM/auL+Uwg9fq5jAEWfRaRc0aL3qgtp8kv6/UikYBRQRX0XIoDdTSWMBtinYiHz7UPuuzpDOCEN8A272EIZJsqKrFIGDCMMEajJgMdeZgLrvAunTA5X4Qw+SKOcfmfXRaFZWLjwabFLk/IOFRb2wsr7rvFJ9p4WV6EiSFPO89E7dXr6YfPzKjE=
  - secure: rKcHaDfoQ38HT1TyKB9msrvoHvhXbblMwRdp0omMzLp5vJT9qCl3ZeAeXdAJfk0YiJNDlD/DFqqbRo9dSMzmtrz1obGi7D99HdbkYvVUbSLJzOTVcUMZYcXvgXhhLWtMt9T7rGBqr4viZAhbnND0U2Jx0xVjoj/8FFM5BigbhSWDmkQo5LJBKsxrARh0L3hKlMOcZWw139fAeaYq3Byo8zttzRjJgUvxGBwdqbIWZHp7nf6GKN1UqTUo3n+wRauNIq15i7VlxM968+LWtJfoqZLMEKjO2WHYrbrKrQF83EDY2p9EWVIY7/0JvcytezBSIa9OR4w6xCYuHQOgzgDalHipKUrHH0GmcEk2meuDip/n6nLPReka5nbk9E2rLK46pfzUmZy87wTd+lO5c7/tMc6YNbkRvZRuhbmEqaE6fIzlR9Q6M5vv5Ac8u0+SCOHLeHxWYHEplArkiznhCgA88Lz5b2c17PjFYkCAVrxhfJwp19Df/gdzZ9DofFRwgjT3pzVabliyYJKBT73SIraZBr1fw5q+QY8lztaZN6wDOzaevgq6a6OHMq2CsBToas8qFrLsvc3zzxwW0kvy7cn46h3sTZrSvhQe12LNw5p1MJLItXQyWzYQQsyPZmGgoF9yh07pSutmeJ8B2+PvFyUjqarcXrvl5orNVTXK9SvDngU=
  - secure: fgEECbFbzKC/6ztNSe0wOOtA7V2nGezle9Mm8fmHZPqFvNG7uhtl9MOlU+y74qdqZIos9Y0J1LJZdh6sdRFZnSxGvkUtOMSihwKoYaO5qj6Szvmw+/ZnpyCOLVlVpTjtvdWFix+Rnbu1KZvoKu/8G1EVnf2RoV1Agv9Esc7rhABu4943G32QmtiDHUBTvQYGBJrcTRzRLiwOPDL4CWSnF58em/gjky/UJue8lGoCo5JmBletLJZZPv9szGBMCM6pXvGL590vPffx0KHYXOVuAx8zHiay4ogek9HImghnuVMNUBUcOTGwbdBlRB/W7uwo+iiYzv/8jOKaYsD+7YFz38YEdTmb3y+MkMuzu3CW9RFPHdGHsioWhCWz/nLU2GCyzDYJlIi8Gbh1hyFOUqF1bfjHfOBmPedZQ8m68F00WMK38ecS2GIFx14mxHzwrJf75R4B574NE31WCadbZmG9WlgVItn6LSwZO8qRTaAJyzy8HKX4nH+g3p5PutV/Mep1Lm4O7UL03necOJAjch3w+RZolOMR80XU59t71te4IHD3OR7F2/2cI7/WdaalmDyZdsKFAJ0dGRffuOGhNXB2xNP2sHrvphm/HT5J3Ua8V57NeRpu1XlV3C/URD5DPqM+wFNxPgj8V3ns6+Hgiz7B94Jo3igg4CA7NFxxgVu8jPg=
